<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1196px" preserveAspectRatio="none" style="width:2813px;height:1196px;background:#FFFFFF;" version="1.1" viewBox="0 0 2813 1196" width="2813px" zoomAndPan="magnify"><defs><filter height="300%" id="f1bnww639kpjqa" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="330.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="879.3828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="330.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="802.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="674.5" y="259.7188"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="866.5" y="290.0703"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1125.5" y="366.7734"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1125.5" y="487.4766"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="427.125"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1598.5" y="547.8281"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1752.5" y="608.1797"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1752.5" y="668.5313"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2078" y="728.8828"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2078" y="789.2344"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2078" y="849.5859"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2465" y="940.6406"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="45" x2="45" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="335.5" x2="335.5" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="679.5" x2="679.5" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="871" x2="871" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1130" x2="1130" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1429" x2="1429" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1603" x2="1603" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1757" x2="1757" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1924" x2="1924" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2083" x2="2083" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2201" x2="2201" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2328" x2="2328" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2470" x2="2470" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2617" x2="2617" y1="89.6094" y2="1110.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2753" x2="2753" y1="89.6094" y2="1110.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="5" y="86.5332">Colaborator</text><ellipse cx="45.5" cy="15" fill="#FEFECE" filter="url(#f1bnww639kpjqa)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M45.5,23 L45.5,50 M32.5,31 L58.5,31 M45.5,50 L32.5,65 M45.5,50 L58.5,65 " fill="none" filter="url(#f1bnww639kpjqa)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="5" y="1123.9316">Colaborator</text><ellipse cx="45.5" cy="1137.0078" fill="#FEFECE" filter="url(#f1bnww639kpjqa)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M45.5,1145.0078 L45.5,1172.0078 M32.5,1153.0078 L58.5,1153.0078 M45.5,1172.0078 L32.5,1187.0078 M45.5,1172.0078 L58.5,1187.0078 " fill="none" filter="url(#f1bnww639kpjqa)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="120" x="273.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="280.5" y="74.5332">PerformActivityUI</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="120" x="273.5" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="280.5" y="1130.9316">PerformActivityUI</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="170" x="592.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="599.5" y="74.5332">PerformActivityController</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="170" x="592.5" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="599.5" y="1130.9316">PerformActivityController</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="799" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="806" y="74.5332">ActivityExecutionDto</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="141" x="799" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="806" y="1130.9316">ActivityExecutionDto</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1082" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1089" y="74.5332">FormAnswer</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1082" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="1089" y="1130.9316">FormAnswer</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="1348" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="1355" y="74.5332">FormParameterAnswer</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="159" x="1348" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="1355" y="1130.9316">FormParameterAnswer</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="1521" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1528" y="74.5332">FormAnswerRepository</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="161" x="1521" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1528" y="1130.9316">FormAnswerRepository</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="119" x="1696" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1703" y="74.5332">ActivityExecution</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="119" x="1696" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1703" y="1130.9316">ActivityExecution</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="1829" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="1836" y="74.5332">ActivityExecutionRepository</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="187" x="1829" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="1836" y="1130.9316">ActivityExecutionRepository</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="102" x="2030" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="2037" y="74.5332">ActivityBuilder</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="102" x="2030" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="2037" y="1130.9316">ActivityBuilder</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="106" x="2146" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="2153" y="74.5332">Activity:Activity</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="106" x="2146" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="2153" y="1130.9316">Activity:Activity</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="120" x="2266" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="2273" y="74.5332">TicketRepository</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="120" x="2266" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="2273" y="1130.9316">TicketRepository</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="136" x="2400" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2407" y="74.5332">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="136" x="2400" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2407" y="1130.9316">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="130" x="2550" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2557" y="74.5332">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1bnww639kpjqa)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="130" x="2550" y="1109.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2557" y="1130.9316">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2694" y="86.5332">ActivityRepository</text><path d="M2735,36 C2735,26 2753,26 2753,26 C2753,26 2771,26 2771,36 L2771,62 C2771,72 2753,72 2753,72 C2753,72 2735,72 2735,62 L2735,36 " fill="#FEFECE" filter="url(#f1bnww639kpjqa)" style="stroke:#000000;stroke-width:1.5;"/><path d="M2735,36 C2735,46 2753,46 2753,46 C2753,46 2771,46 2771,36 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="2694" y="1123.9316">ActivityRepository</text><path d="M2735,1137.0078 C2735,1127.0078 2753,1127.0078 2753,1127.0078 C2753,1127.0078 2771,1127.0078 2771,1137.0078 L2771,1163.0078 C2771,1173.0078 2753,1173.0078 2753,1173.0078 C2753,1173.0078 2735,1173.0078 2735,1163.0078 L2735,1137.0078 " fill="#FEFECE" filter="url(#f1bnww639kpjqa)" style="stroke:#000000;stroke-width:1.5;"/><path d="M2735,1137.0078 C2735,1147.0078 2753,1147.0078 2753,1147.0078 C2753,1147.0078 2771,1147.0078 2771,1137.0078 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="330.5" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="879.3828" style="stroke:#A80036;stroke-width:1.0;" width="10" x="330.5" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="802.3281" style="stroke:#A80036;stroke-width:1.0;" width="10" x="674.5" y="259.7188"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="866.5" y="290.0703"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1125.5" y="366.7734"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1125.5" y="487.4766"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1424.5" y="427.125"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1598.5" y="547.8281"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1752.5" y="608.1797"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1752.5" y="668.5313"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2078" y="728.8828"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2078" y="789.2344"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2078" y="849.5859"/><rect fill="#FFFFFF" filter="url(#f1bnww639kpjqa)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2465" y="940.6406"/><polygon fill="#A80036" points="318.5,117.9609,328.5,121.9609,318.5,125.9609,322.5,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="45.5" x2="324.5" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="52.5" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="63.5" y="117.1045">Wants to perform an activity</text><polygon fill="#A80036" points="667.5,148.3125,677.5,152.3125,667.5,156.3125,671.5,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="673.5" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="347.5" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="358.5" y="147.4561">doShow</text><polygon fill="#A80036" points="56.5,178.6641,46.5,182.6641,56.5,186.6641,52.5,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="50.5" x2="334.5" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="62.5" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="73.5" y="177.8076">Requests necessary credentials for Activity</text><polygon fill="#A80036" points="318.5,209.0156,328.5,213.0156,318.5,217.0156,322.5,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="45.5" x2="324.5" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="52.5" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="63.5" y="208.1592">Inserts the data</text><polygon fill="#A80036" points="662.5,255.7188,672.5,259.7188,662.5,263.7188,666.5,259.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="668.5" y1="259.7188" y2="259.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="347.5" y="246.6865">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="358.5" y="238.5107">performActivity(TicketActivityExecutionDto actExec,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="358.5" y="254.8623">List&lt;FormParameter&gt; params, List&lt;String&gt; values)</text><polygon fill="#A80036" points="854.5,286.0703,864.5,290.0703,854.5,294.0703,858.5,290.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="860.5" y1="290.0703" y2="290.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="691.5" y="285.2139">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="702.5" y="285.2139">ticketActivityExecutionDto</text><polygon fill="#A80036" points="1113.5,362.7734,1123.5,366.7734,1113.5,370.7734,1117.5,366.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="1119.5" y1="366.7734" y2="366.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="691.5" y="353.7412">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="702.5" y="345.5654">formAnswer = new FormAnswer(FormAnswerId.valueOf(formAnswerId),</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="403" x="702.5" y="361.917">actExec.activityExecution.getActivity().getForm(), currentUser().get());</text><polygon fill="#A80036" points="1412.5,423.125,1422.5,427.125,1412.5,431.125,1416.5,427.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="1418.5" y1="427.125" y2="427.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="691.5" y="422.2686">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="710" x="702.5" y="422.2686">fpa = new FormParameterAnswer(FormParameterAnswerId.valueOf(formAnswerId+"/"+n), p, Answer.valueOf(values.get(n)));</text><polygon fill="#A80036" points="1113.5,483.4766,1123.5,487.4766,1113.5,491.4766,1117.5,487.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="1119.5" y1="487.4766" y2="487.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="691.5" y="482.6201">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="702.5" y="482.6201">formAnswer.addFormParameterAnswer(fpa);</text><polygon fill="#A80036" points="1586.5,543.8281,1596.5,547.8281,1586.5,551.8281,1590.5,547.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="1592.5" y1="547.8281" y2="547.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="542.9717">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="709.5" y="542.9717">save (formAnswer)</text><polygon fill="#A80036" points="1740.5,604.1797,1750.5,608.1797,1740.5,612.1797,1744.5,608.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="1746.5" y1="608.1797" y2="608.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="603.3232">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="709.5" y="603.3232">actExec.activityExecution.setFormAnswer(formAnswer);</text><polygon fill="#A80036" points="1740.5,664.5313,1750.5,668.5313,1740.5,672.5313,1744.5,668.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="1746.5" y1="668.5313" y2="668.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="663.6748">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="709.5" y="663.6748">actExec.activityExecution.statusDone();</text><polygon fill="#A80036" points="1912.5,724.8828,1922.5,728.8828,1912.5,732.8828,1916.5,728.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="1918.5" y1="728.8828" y2="728.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="724.0264">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="709.5" y="724.0264">save(actExec.activityExecution)</text><polygon fill="#A80036" points="2066,785.2344,2076,789.2344,2066,793.2344,2070,789.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="2072" y1="789.2344" y2="789.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="784.3779">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="709.5" y="784.3779">setActivity()</text><polygon fill="#A80036" points="2066,845.5859,2076,849.5859,2066,853.5859,2070,849.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="2072" y1="849.5859" y2="849.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="844.7295">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="709.5" y="844.7295">PerformActivity()</text><polygon fill="#A80036" points="1745.5,875.9375,1755.5,879.9375,1745.5,883.9375,1749.5,879.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="1751.5" y1="879.9375" y2="879.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="875.0811">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="709.5" y="875.0811">actExec.ticket.close()</text><polygon fill="#A80036" points="2316,906.2891,2326,910.2891,2316,914.2891,2320,910.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="2322" y1="910.2891" y2="910.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="905.4326">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="709.5" y="905.4326">ticketRepo.save(actExec.ticket);</text><polygon fill="#A80036" points="2453,936.6406,2463,940.6406,2453,944.6406,2457,940.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="2459" y1="940.6406" y2="940.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="935.7842">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="709.5" y="935.7842">Ticket</text><polygon fill="#A80036" points="2605,966.9922,2615,970.9922,2605,974.9922,2609,970.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2475" x2="2611" y1="970.9922" y2="970.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2482" y="966.1357">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="2500" y="966.1357">create</text><polygon fill="#A80036" points="695.5,997.3438,685.5,1001.3438,695.5,1005.3438,691.5,1001.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="689.5" x2="2469" y1="1001.3438" y2="1001.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="701.5" y="996.4873">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="719.5" y="996.4873">factory</text><polygon fill="#A80036" points="2741,1027.6953,2751,1031.6953,2741,1035.6953,2745,1031.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684.5" x2="2747" y1="1031.6953" y2="1031.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="691.5" y="1026.8389">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="709.5" y="1026.8389">save(Ticket)</text><polygon fill="#A80036" points="351.5,1058.0469,341.5,1062.0469,351.5,1066.0469,347.5,1062.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="345.5" x2="678.5" y1="1062.0469" y2="1062.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="357.5" y="1057.1904">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="375.5" y="1057.1904">Activity performed</text><polygon fill="#A80036" points="56.5,1088.3984,46.5,1092.3984,56.5,1096.3984,52.5,1092.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="50.5" x2="334.5" y1="1092.3984" y2="1092.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="62.5" y="1087.542">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="80.5" y="1087.542">displayPerformActivityInfo</text><!--MD5=[11e4ae41a19cb54d168af7c3543bba4e]
@startuml
autonumber

actor "Colaborator" as C

participant "PerformActivityUI" as UI
participant "PerformActivityController" as CTRL
participant "ActivityExecutionDto" as AED
participant "FormAnswer" as FA
participant "FormParameterAnswer" as FPA
participant "FormAnswerRepository" as FAR
participant "ActivityExecution" as AE
participant "ActivityExecutionRepository" as AER
participant "ActivityBuilder" as CB
participant "Activity:Activity" as CC
participant "TicketRepository" as TR
participant "PersistenceContext" as PC
participant "RepositoryFactory" as RF


database "ActivityRepository" as CR

C - -> UI : Wants to perform an activity
activate UI
    UI -> CTRL : doShow
    UI - -> C : Requests necessary credentials for Activity
deactivate UI

C - -> UI : Inserts the data
activate UI
    UI -> CTRL : performActivity(TicketActivityExecutionDto actExec, \nList<FormParameter> params, List<String> values)
    activate CTRL
        CTRL -> AED: ticketActivityExecutionDto
        activate AED
        deactivate AED
        CTRL -> FA: formAnswer = new FormAnswer(FormAnswerId.valueOf(formAnswerId), \nactExec.activityExecution.getActivity().getForm(), currentUser().get());
        activate FA
        deactivate FA
                CTRL -> FPA: fpa = new FormParameterAnswer(FormParameterAnswerId.valueOf(formAnswerId+"/"+n), p, Answer.valueOf(values.get(n)));
                activate FPA
                deactivate FPA
                CTRL -> FA : formAnswer.addFormParameterAnswer(fpa);
                activate FA
                deactivate FA

                CTRL -> FAR : save (formAnswer)
                activate FAR
                deactivate FAR

                CTRL -> AE : actExec.activityExecution.setFormAnswer(formAnswer);
                activate AE
                deactivate AE
                CTRL -> AE : actExec.activityExecution.statusDone();
                activate AE
                deactivate AE
                CTRL -> AER : save(actExec.activityExecution)
        activate CB
        deactivate CB

        CTRL -> CB: setActivity()
        activate CB
        deactivate CB

        CTRL -> CB: PerformActivity()
        activate CB
                CTRL -> AE: actExec.ticket.close()
                CTRL -> TR: ticketRepo.save(actExec.ticket);
        deactivate CB

        CTRL -> PC: Ticket
        activate PC
         PC->RF: create
         PC->CTRL: factory

        deactivate PC


        CTRL->CR:save(Ticket)

        CTRL->UI:Activity performed
    deactivate CTRL

    UI - -> C : displayPerformActivityInfo
deactivate UI


@enduml

PlantUML version 1.2021.7(Sun May 23 13:40:07 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: Dynamic Code Evolution 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>